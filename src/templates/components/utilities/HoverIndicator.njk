{#
  HoverIndicator Utility Component
  Provides subtle interaction hints for hoverable elements
  
  Props:
  - variant (string): 'arrow' | 'chevron' | 'plus' | 'external' | 'download' | 'edit' | 'delete' | 'custom'
  - position (string): 'right' | 'left' | 'top' | 'bottom' | 'center'
  - size (string): 'xs' | 'sm' | 'md' | 'lg'
  - customIcon (string): FontAwesome class for custom variant
  - color (string): 'neutral' | 'sand' | 'apple-blue' | 'success' | 'warning' | 'danger'
  - animated (boolean): Enable subtle animation on hover
  - always (boolean): Always visible (not just on hover)
  - className (string): Additional CSS classes
#}

{%- macro HoverIndicator(variant='arrow', position='right', size='sm', customIcon='', color='neutral', animated=true, always=false, className='') -%}
  {%- set variants = {
    'arrow': 'fas fa-arrow-right',
    'chevron': 'fas fa-chevron-right', 
    'plus': 'fas fa-plus',
    'external': 'fas fa-external-link-alt',
    'download': 'fas fa-download',
    'edit': 'fas fa-edit',
    'delete': 'fas fa-trash-alt',
    'custom': customIcon
  } -%}
  
  {%- set positions = {
    'right': 'hover-indicator-right',
    'left': 'hover-indicator-left',
    'top': 'hover-indicator-top',
    'bottom': 'hover-indicator-bottom',
    'center': 'hover-indicator-center'
  } -%}
  
  {%- set sizes = {
    'xs': 'text-xs w-3 h-3',
    'sm': 'text-sm w-4 h-4',
    'md': 'text-base w-5 h-5',
    'lg': 'text-lg w-6 h-6'
  } -%}
  
  {%- set colors = {
    'neutral': 'text-neutral-400',
    'sand': 'text-sand-400',
    'apple-blue': 'text-apple-blue',
    'success': 'text-green-400',
    'warning': 'text-yellow-400',
    'danger': 'text-red-400'
  } -%}

  <span class="hover-indicator {{ positions[position] }} {{ sizes[size] }} {{ colors[color] }}{% if animated %} hover-indicator-animated{% endif %}{% if always %} hover-indicator-always{% endif %}{% if className %} {{ className }}{% endif %}">
    <i class="{{ variants[variant] }}" aria-hidden="true"></i>
  </span>
{%- endmacro -%}

{#
  HoverCard - Wrapper that adds hover indicator to any content
#}
{%- macro HoverCard(content, indicator='arrow', indicatorPosition='right', href='', onclick='', className='') -%}
  {%- set element = 'a' if href else 'div' -%}
  <{{ element }}
    {% if href %}href="{{ href }}"{% endif %}
    {% if onclick %}onclick="{{ onclick }}"{% endif %}
    class="hover-card group relative cursor-pointer transition-all duration-300{% if className %} {{ className }}{% endif %}"
  >
    {{ content }}
    {{ HoverIndicator(indicator, indicatorPosition, 'sm', '', 'neutral', true, false, 'group-hover:opacity-100 group-hover:translate-x-1') }}
  </{{ element }}>
{%- endmacro -%}

{#
  IconHoverIndicator - Icon that changes on hover
#}
{%- macro IconHoverIndicator(defaultIcon, hoverIcon, size='md', color='neutral', className='') -%}
  <span class="icon-hover-indicator relative {{ sizes[size] }} {{ colors[color] }}{% if className %} {{ className }}{% endif %}">
    <i class="{{ defaultIcon }} icon-default transition-opacity duration-200" aria-hidden="true"></i>
    <i class="{{ hoverIcon }} icon-hover absolute inset-0 opacity-0 transition-opacity duration-200" aria-hidden="true"></i>
  </span>
{%- endmacro -%}

{#
  TextWithIndicator - Text with trailing hover indicator
#}
{%- macro TextWithIndicator(text, indicator='arrow', size='md', textColor='current', indicatorColor='neutral', className='') -%}
  <span class="text-with-indicator inline-flex items-center gap-2 group{% if className %} {{ className }}{% endif %}">
    <span class="text-{{ textColor }}">{{ text }}</span>
    {{ HoverIndicator(indicator, 'right', size, '', indicatorColor, true, false, 'group-hover:translate-x-1 transition-transform duration-200') }}
  </span>
{%- endmacro -%}

{#
  ButtonWithIndicator - Button with integrated hover indicator
#}
{%- macro ButtonWithIndicator(text, indicator='arrow', variant='secondary', size='md', href='', onclick='', className='') -%}
  {%- set element = 'a' if href else 'button' -%}
  <{{ element }}
    {% if href %}href="{{ href }}"{% endif %}
    {% if onclick %}onclick="{{ onclick }}"{% endif %}
    class="btn btn-{{ variant }} btn-{{ size }} btn-with-indicator group inline-flex items-center gap-2{% if className %} {{ className }}{% endif %}"
  >
    <span>{{ text }}</span>
    {{ HoverIndicator(indicator, 'right', 'sm', '', 'current', true, false, 'group-hover:translate-x-1 transition-transform duration-200') }}
  </{{ element }}>
{%- endmacro -%}

{#
  StatusIndicator - Colored indicator for status display
#}
{%- macro StatusIndicator(status, animated=true, pulse=false, className='') -%}
  {%- set statusConfig = {
    'online': { color: 'success', icon: 'fas fa-circle' },
    'offline': { color: 'neutral', icon: 'fas fa-circle' },
    'busy': { color: 'warning', icon: 'fas fa-circle' },
    'away': { color: 'warning', icon: 'far fa-circle' },
    'error': { color: 'danger', icon: 'fas fa-exclamation-circle' },
    'success': { color: 'success', icon: 'fas fa-check-circle' },
    'warning': { color: 'warning', icon: 'fas fa-exclamation-triangle' },
    'info': { color: 'apple-blue', icon: 'fas fa-info-circle' },
    'loading': { color: 'neutral', icon: 'fas fa-spinner' },
    'new': { color: 'apple-blue', icon: 'fas fa-star' }
  } -%}
  
  {%- set config = statusConfig[status] -%}
  
  <span class="status-indicator {{ sizes.xs }} {{ colors[config.color] }}{% if animated %} status-indicator-animated{% endif %}{% if pulse %} status-indicator-pulse{% endif %}{% if className %} {{ className }}{% endif %}">
    <i class="{{ config.icon }}{% if status == 'loading' %} fa-spin{% endif %}" aria-hidden="true"></i>
  </span>
{%- endmacro -%}

{#
  InteractionHint - Subtle hint for interactive elements
#}
{%- macro InteractionHint(hint='clickable', className='') -%}
  {%- set hints = {
    'clickable': 'cursor-pointer hover:bg-opacity-50 transition-colors duration-200',
    'draggable': 'cursor-move hover:shadow-md transition-shadow duration-200',
    'sortable': 'cursor-grab hover:cursor-grabbing transition-transform duration-200 hover:scale-105',
    'expandable': 'cursor-pointer hover:shadow-lg transition-all duration-200',
    'editable': 'cursor-text hover:bg-neutral-50 transition-colors duration-200',
    'deletable': 'cursor-pointer hover:bg-red-50 hover:text-red-600 transition-colors duration-200'
  } -%}

  <span class="interaction-hint {{ hints[hint] }}{% if className %} {{ className }}{% endif %}"></span>
{%- endmacro -%}

{#
  Usage Examples:

  Basic hover indicator:
  {{ HoverIndicator('arrow', 'right', 'sm', '', 'neutral', true) }}

  Hover card with content:
  {{ HoverCard('Click me for more details', 'chevron', 'right', '/details') }}

  Icon that changes on hover:
  {{ IconHoverIndicator('far fa-heart', 'fas fa-heart', 'md', 'danger') }}

  Text with trailing indicator:
  {{ TextWithIndicator('Learn More', 'arrow', 'sm', 'current', 'apple-blue') }}

  Button with indicator:
  {{ ButtonWithIndicator('Get Started', 'chevron', 'primary', 'md', '/signup') }}

  Status indicators:
  {{ StatusIndicator('online', true, true) }}
  {{ StatusIndicator('loading', true, false) }}
  {{ StatusIndicator('error', false, false) }}

  Interaction hints:
  <div class="{{ InteractionHint('clickable') }}">Clickable content</div>
  <div class="{{ InteractionHint('draggable') }}">Draggable item</div>
#} 