{#
  EmptyState Component
  
  Purpose: Display when no content is available with icon, title, and optional actions
  
  Props:
  - icon (string, default: 'fas fa-inbox'): FontAwesome icon class
  - title (string, default: 'No items found'): Main heading
  - description (string, optional): Supporting description text
  - actionText (string, optional): Primary action button text
  - actionHref (string, optional): Primary action button link
  - actionIcon (string, optional): Primary action button icon
  - secondaryActionText (string, optional): Secondary action text
  - secondaryActionHref (string, optional): Secondary action link
  - variant ('default' | 'large' | 'compact', default: 'default'): Size variant
  - containerClass (string, optional): Additional CSS classes
  
  Usage:
  {{ EmptyState(
    icon='fas fa-toolbox',
    title='No Tools Available', 
    description='Check back later for new tools and utilities.',
    actionText='Browse All Tools',
    actionHref='/tools'
  ) }}
#}

{% macro EmptyState(icon='fas fa-inbox', title='No items found', description='', actionText='', actionHref='#', actionIcon='', secondaryActionText='', secondaryActionHref='#', variant='default', containerClass='') %}
  {% set baseClasses = 'empty-state empty-state-' + variant %}
  
  {# Variant-specific sizing #}
  {% if variant == 'large' %}
    {% set containerClasses = 'text-center py-16 px-6' %}
    {% set iconSize = '2xl' %}
    {% set iconBg = 'w-24 h-24' %}
    {% set titleClasses = 'text-2xl md:text-3xl font-bold text-sand-100 mb-4' %}
    {% set descriptionClasses = 'text-lg text-neutral-300 mb-8 max-w-md mx-auto' %}
    {% set actionSize = 'lg' %}
  {% elif variant == 'compact' %}
    {% set containerClasses = 'text-center py-8 px-4' %}
    {% set iconSize = 'md' %}
    {% set iconBg = 'w-12 h-12' %}
    {% set titleClasses = 'text-lg font-semibold text-sand-100 mb-2' %}
    {% set descriptionClasses = 'text-sm text-neutral-400 mb-4' %}
    {% set actionSize = 'sm' %}
  {% else %}
    {% set containerClasses = 'text-center py-12 px-6' %}
    {% set iconSize = 'lg' %}
    {% set iconBg = 'w-16 h-16' %}
    {% set titleClasses = 'text-xl font-semibold text-sand-100 mb-3' %}
    {% set descriptionClasses = 'text-neutral-300 mb-6 max-w-sm mx-auto' %}
    {% set actionSize = 'md' %}
  {% endif %}

  <div class="{{ baseClasses }} {{ containerClasses }} {{ containerClass }}">
    {# Icon container #}
    <div class="empty-state-icon mb-6">
      {% from 'components/ui/IconContainer.njk' import IconContainer %}
      <div class="mx-auto {{ iconBg }}">
        {{ IconContainer(
          size=iconSize,
          icon=icon,
          variant='neutral'
        ) }}
      </div>
    </div>
    
    {# Title #}
    <h3 class="{{ titleClasses }}">
      {{ title }}
    </h3>
    
    {# Description #}
    {% if description %}
      <p class="{{ descriptionClasses }} leading-relaxed">
        {{ description }}
      </p>
    {% endif %}
    
    {# Actions #}
    {% if actionText %}
      <div class="empty-state-actions">
        {% from 'components/ui/Button.njk' import Button %}
        
        <div class="flex flex-col sm:flex-row gap-3 justify-center items-center">
          {{ Button(
            text=actionText,
            href=actionHref,
            variant='primary',
            size=actionSize,
            icon=actionIcon
          ) }}
          
          {% if secondaryActionText %}
            {{ Button(
              text=secondaryActionText,
              href=secondaryActionHref,
              variant='secondary',
              size=actionSize
            ) }}
          {% endif %}
        </div>
      </div>
    {% endif %}
  </div>
{% endmacro %}

{#
  SearchEmptyState Component
  
  Specialized empty state for search results
  
  Props:
  - query (string, required): The search query that returned no results
  - suggestions (array, optional): Array of suggested search terms
  - resetAction (string, optional): Text for reset/clear action
  - resetHref (string, default: '#'): Link for reset action
#}

{% macro SearchEmptyState(query, suggestions=[], resetAction='Clear search', resetHref='#', containerClass='') %}
  <div class="search-empty-state text-center py-12 px-6 {{ containerClass }}">
    {# Icon #}
    <div class="mb-6">
      {% from 'components/ui/IconContainer.njk' import IconContainer %}
      <div class="w-16 h-16 mx-auto">
        {{ IconContainer(
          size='lg',
          icon='fas fa-search',
          variant='neutral'
        ) }}
      </div>
    </div>
    
    {# Title with query #}
    <h3 class="text-xl font-semibold text-sand-100 mb-3">
      No results for "{{ query }}"
    </h3>
    
    <p class="text-neutral-300 mb-6 max-w-sm mx-auto">
      Try adjusting your search terms or browse our available tools.
    </p>
    
    {# Suggestions #}
    {% if suggestions and suggestions|length > 0 %}
      <div class="mb-6">
        <p class="text-neutral-400 text-sm mb-3">Try searching for:</p>
        <div class="flex flex-wrap gap-2 justify-center">
          {% for suggestion in suggestions %}
            <a href="?q={{ suggestion }}" 
               class="inline-block px-3 py-1 bg-neutral-700/30 text-neutral-300 text-sm rounded-full hover:bg-neutral-600/30 transition-colors duration-200">
              {{ suggestion }}
            </a>
          {% endfor %}
        </div>
      </div>
    {% endif %}
    
    {# Reset action #}
    {% if resetAction %}
      {% from 'components/ui/Button.njk' import Button %}
      {{ Button(
        text=resetAction,
        href=resetHref,
        variant='secondary',
        size='md',
        icon='fas fa-times'
      ) }}
    {% endif %}
  </div>
{% endmacro %}

{#
  ErrorEmptyState Component
  
  Empty state specifically for error conditions
  
  Props:
  - title (string, default: 'Something went wrong'): Error title
  - description (string, optional): Error description
  - retryText (string, default: 'Try again'): Retry button text
  - retryAction (string, optional): JavaScript function for retry
  - supportText (string, optional): Contact support button text
  - supportHref (string, optional): Support contact link
#}

{% macro ErrorEmptyState(title='Something went wrong', description='', retryText='Try again', retryAction='', supportText='', supportHref='', containerClass='') %}
  <div class="error-empty-state text-center py-12 px-6 {{ containerClass }}" role="alert">
    {# Error icon #}
    <div class="mb-6">
      {% from 'components/ui/IconContainer.njk' import IconContainer %}
      <div class="w-16 h-16 mx-auto">
        {{ IconContainer(
          size='lg',
          icon='fas fa-exclamation-triangle',
          variant='neutral'
        ) }}
      </div>
    </div>
    
    {# Title #}
    <h3 class="text-xl font-semibold text-red-300 mb-3">
      {{ title }}
    </h3>
    
    {# Description #}
    {% if description %}
      <p class="text-neutral-300 mb-6 max-w-sm mx-auto">
        {{ description }}
      </p>
    {% endif %}
    
    {# Actions #}
    <div class="flex flex-col sm:flex-row gap-3 justify-center items-center">
      {% if retryAction %}
        {% from 'components/ui/Button.njk' import Button %}
        {{ Button(
          text=retryText,
          onclick=retryAction,
          variant='primary',
          size='md',
          icon='fas fa-redo'
        ) }}
      {% endif %}
      
      {% if supportText and supportHref %}
        {{ Button(
          text=supportText,
          href=supportHref,
          variant='secondary',
          size='md',
          icon='fas fa-life-ring'
        ) }}
      {% endif %}
    </div>
  </div>
{% endmacro %} 